\documentclass[a4paper,12pt,oneside]{report}

\newif\ifprint % true = printed version = no colours; false = colours
\printfalse
\newif\ifattachements % true = include fancy start pages and appendices
\attachementsfalse

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{epsfig}
\usepackage{graphicx}
\usepackage{enumitem} % so that spacing for lists can be easily set, resume option etc
\ifattachements
	\usepackage{pdfpages}
\fi
\usepackage[hyphens]{url} % the package is not needed, it needes just to set the parameter
\usepackage[pagebackref=true]{hyperref} % tento balicek by mel byt na konci baliku!

\hypersetup{
	pdfauthor={Matej Laitl},
	pdftitle={Implementation environment for Bayesian filtering algorithms}
}

%% Nastavení zrcadla sazby
\usepackage{calc}
\setlength{\textheight}{9in}
\setlength{\textwidth}{6in}
\setlength\oddsidemargin{(\paperwidth-\textwidth)/2 - 1in}
\setlength\evensidemargin{(\paperwidth-\textwidth)/2 - 1in}
\setlength\topmargin{(\paperheight-\textheight-\headheight-\headsep-\footskip)/2 - 1in}

%\parindent=0pt % odsazení 1. řádku odstavce
\parskip=4pt   % mezera mezi odstavci

% set that list should not have vertical space
\setlist{nolistsep}
\setlist[1]{leftmargin=\parindent} % set indentation to level 1 lists to be same as paragraph indent

\ifprint
	\hypersetup{pdfborder={0 0 0}} % no borders around links
\else
	\hypersetup{colorlinks=true} % colour links instead of borders
\fi

% definitions of our own commands:
\newcommand{\pdf}{probability density function}
\newcommand{\pdfs}{probability density functions}
\newcommand{\supp}{\operatorname{supp}}
\newcommand{\dx}{\mathrm{d}x}


\begin{document}

\ifattachements
	\input{startpages.tex} % include some fancy start pages
\fi


% obsah
\newpage
\tableofcontents


\chapter*{Notation} \addcontentsline{toc}{chapter}{Notation}

Throughout this text, following notation is used

\bigskip

\begin{tabular}{l p{0.8\textwidth}}
	\(\mathbb{N}\) & set of natural numbers excluding zero \\
	\(\mathbb{N}_0\) & set of natural numbers including zero \\
	\(\mathbb{R}\) & set of real numbers \\
	\(t\) & discrete time moment; \(t \in \mathbb{N}_0\) \\
	\(a_t\) & value of quantity \(a\) at time \(t\); \(a_t \in \mathbb{R}^n, n \in \mathbb{N}\) \\
	\(a_{t|t'}\) & quantity with two indices: \(t\) and \(t'\) \\
		& there is no implicit link between \(a_{t}\), \(a_{t|t'}\) and \(a_{t'}\) \\
	\(a_{t:t'}\) & sequence of quantities \((a_t, a_{t+1} \dots a_{t'-1}, a_{t'})\) \\
	\(p(a_t)\) & probability density function{\footnotemark[1]} of quantity \(a\) at time \(t\) (unless
		noted otherwise) \\
	\(p(a_t|b_{t'})\) & conditional {\pdf} of quantity \(a\) at time \(t\) given value of quantity
		\(b\) at time \(t'\) \\
	\(\delta(a)\) & Dirac delta function; used exclusively in context of {\pdfs} to denote discrete
		distribution within framework of continuous distributions{\footnotemark[2]} \\
	\(\mathcal{N}(\mu, \Sigma)\) & multivariate normal (Gaussian) {\pdf} with mean vector \(\mu\)
		and covariance matrix \(\Sigma\) \\
\end{tabular}

% \footnote does not work in tabular environment, - this can be worked around with this
\footnotetext[1]{for the purpose of this text, {\pdf} \(p\) is multivariate non-negative function
\(\mathbb{R}^n \rightarrow \mathbb{R}; \; \int_{\supp p} p(x_1, x_2 \dots x_n) \; \dx_1 \dx_2 \dots \dx_n = 1\)}

\footnotetext[2]{so that \(\int_{-\infty}^{\infty} f(x) \delta(x - \mu) \; \dx = f(\mu)\) and more
complex expressions can be derived using integral linearity and Fubini's theorem.}


\chapter*{Introduction} \addcontentsline{toc}{chapter}{Introduction}

TODO motivatin for bayes filtering + a need for a convenient library (rapid prototyping vs. speed)

applications: robotics, navigation, + tracking of toxic plume after radiation accident.

Decision-making being a logical and natural ``next step'' - beyond the scope of this text.

[proposed citations:\cite{ThrBurFox:05,Gus:02,HofSmi:09,HofSmiPech:09,PechHofSmi:09}]

na co se nezamerujeme: MCMC, Bayes networks

\input{chap1-theory.tex}

\input{chap2-software.tex}

\input{chap3-pybayes.tex}

\chapter*{Conclusion} \addcontentsline{toc}{chapter}{Conclusion}


% použitá literatura
\clearpage % so that the contents link mentions correct page
\phantomsection % so that hyperref makes correct reference
\addcontentsline{toc}{chapter}{\bibname}
\bibliographystyle{plain}
\bibliography{bibliography}

\ifattachements
	% přílohy
	\appendix % aby LaTeX cisloval jinak
	\clearpage % so that the contents link mentions correct page
	\phantomsection % so that hyperref makes correct reference
	\addcontentsline{toc}{chapter}{\appendixname}

	\part*{\appendixname}

	\includepdf[pages=-]{../doc/_build/latex/PyBayes.pdf}
\fi

\end{document}
